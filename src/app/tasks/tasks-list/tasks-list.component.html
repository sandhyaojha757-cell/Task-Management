<div class="d-flex justify-content-between mb-4"><mat-card-title>Tasks</mat-card-title>
<button mat-flat-button color="primary" (click)="add()">
        <mat-icon>add</mat-icon>
        Add Task
      </button> 
</div>

<mat-card class="overflow-x-auto">
  <!-- <mat-card-content> -->
    <div class="filters">
      
      <mat-form-field appearance="outline">
        <mat-label>Search title</mat-label>
        <input class="searchInput" matInput placeholder="Search" [formControl]="search" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <mat-select [formControl]="status">
          <mat-option value="">All</mat-option>
          <mat-option value="Pending">Pending</mat-option>
          <mat-option value="Completed">Completed</mat-option>
        </mat-select>
      </mat-form-field> 

      <mat-form-field appearance="outline">
        <mat-label>Priority</mat-label>
        <mat-select [formControl]="priority">
          <mat-option value="">All</mat-option>
          <mat-option value="Low">Low</mat-option>
          <mat-option value="Medium">Medium</mat-option>
          <mat-option value="High">High</mat-option>
        </mat-select>
      </mat-form-field>
      <span class="spacer"></span>
       <!-- <button mat-flat-button color="primary" (click)="add()">
        <mat-icon>add</mat-icon>
        Add Task
      </button>  -->
    </div>
</mat-card>
<mat-card>
  <table mat-table [dataSource]="datasource" class="mat-elevation-z1 full-width">
      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let t"> {{ t.title }} </td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let t"> {{ t.description }} </td>
      </ng-container>

      <!-- Priority Column -->
      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef> Priority </th>
        <td mat-cell *matCellDef="let t"> {{ t.priority }} </td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let t"> {{ t.status }} </td>
      </ng-container>
   <ng-container matColumnDef="icon">
      <th mat-header-cell *matHeaderCellDef>Icon</th>
      <td mat-cell *matCellDef="let task"><img [src]="task.icon" width="36" height="36" /></td>
    </ng-container>
      <ng-container matColumnDef="due">
      <th mat-header-cell *matHeaderCellDef>Due</th>
      <td mat-cell *matCellDef="let task" [style.color]="task.dueDate | isOverdue">{{task.dueDate | date}}</td>
    </ng-container>
      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let t">
          <button mat-icon-button color="primary" (click)="edit(t)" aria-label="Edit">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="accent" (click)="complete(t)" [disabled]="t.status === 'Completed'" aria-label="Complete">
            <mat-icon>check_circle</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="delete(t)" aria-label="Delete">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  <!-- </mat-card-content> -->
</mat-card>
